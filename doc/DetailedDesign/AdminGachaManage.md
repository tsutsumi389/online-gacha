# 店舗管理者向けガチャ管理画面 詳細設計

## 1. 画面概要
- 店舗管理者がガチャの新規作成・編集・削除・商品管理・確率調整を行うための管理画面
- ガチャごとに商品リストや提供割合、在庫数などを管理

## 2. 画面構成

### 2.1 ガチャ一覧画面（管理者用）
- 登録済みガチャのリスト表示（テーブル形式）
  - ガチャ名
  - 価格
  - 公開/非公開ステータス
  - 表示期間
  - 編集ボタン
  - 削除ボタン
  - 新規作成ボタン

### 2.2 ガチャ編集/新規作成画面
- 基本情報入力
  - ガチャ名（必須）
  - 説明文
  - 価格（必須）
  - 公開/非公開切替
  - 表示期間（開始日・終了日）
  - 一覧用画像（複数可、ドラッグ&ドロップ対応）
- 商品リスト管理
  - 商品名、画像、説明、在庫
  - 商品の追加・削除・編集
- 保存/キャンセルボタン

### 2.3 商品編集ダイアログ
- 商品名、画像、説明、在庫数、当選確率の編集
- 画像アップロード（プレビュー付き）
- 保存/キャンセル

### 2.4 削除確認ダイアログ
- ガチャ削除時の確認メッセージ
- OK/キャンセル

## 3. 画面遷移イメージ
- ガチャ一覧 → [新規作成] → ガチャ編集画面
- ガチャ一覧 → [編集] → ガチャ編集画面
- ガチャ編集画面 → [商品追加/編集] → 商品編集ダイアログ
- ガチャ一覧 → [削除] → 削除確認ダイアログ

## 4. バリデーション・UX
- 必須項目未入力時は保存不可
- 確率合計が100%未満/超過時は警告
- 画像アップロード時は即時プレビュー
- 商品在庫が0の場合は警告表示
- 編集中に離脱しようとした場合は警告

## 5. API設計（例）
- GET /api/admin/gachas ... ガチャ一覧取得
- POST /api/admin/gachas ... ガチャ新規作成
- PUT /api/admin/gachas/:id ... ガチャ編集
- DELETE /api/admin/gachas/:id ... ガチャ削除
- POST /api/admin/gachas/:id/items ... 商品追加
- PUT /api/admin/gachas/:id/items/:itemId ... 商品編集
- DELETE /api/admin/gachas/:id/items/:itemId ... 商品削除

## 6. 備考
- スマホ・PC両対応（レスポンシブ）
- 権限チェック（管理者のみアクセス可）
- 操作ログ記録（監査用）
- UIはMaterial-UI等の管理画面向けコンポーネント推奨
