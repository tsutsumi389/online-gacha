# ユーザー用 ガチャ詳細画面 詳細設計

## 1. 画面概要
- 選択したガチャの詳細情報を表示する画面
- ガチャ内の全商品リスト・各商品の残り数・画像を表示
- 「1回引く」「10連引く」ボタンを配置

## 2. 主な機能
- ガチャ名・説明・価格・提供割合の表示
- 商品リスト（画像・商品名・残り数/全体数）
- 「1回引く」「10連引く」ボタン

## 3. 画面レイアウト（ワイヤーフレーム例）

```
+-------------------------------------------------------------+
| [ガチャ名]　　　　　　　　　　　　　　　[戻る]ボタン         |
+-------------------------------------------------------------+
| ガチャ説明文                                             |
| 価格: 300pt　提供割合: SSR:5%, SR:15%, R:80%              |
+-------------------------------------------------------------+
| 商品リスト                                               |
| 画像 | 商品名 | 残り数/全体数                             |
|------|--------|--------------------------------------------|
| imgA | 商品A  | 1/1                                       |
| imgB | 商品B  | 0/1                                       |
| imgC | 商品C  | 1/1                                       |
| ...  | ...    | ...                                        |
+-------------------------------------------------------------+
| [1回引く] [10連引く]                                      |
+-------------------------------------------------------------+
```

## 4. 各要素の詳細
- **ガチャ名**: gachas.name
- **説明**: gachas.description
- **価格**: gachas.price
- **提供割合**: gachas内の各レアリティの確率
- **商品リスト**: gacha_items（画像: image_url, 商品名: name, 残り数: stock, 全体数: 初期stock）
- **1回引くボタン**: 1回分のガチャ実行API呼び出し
- **10連引くボタン**: 10回分のガチャ実行API呼び出し

## 5. API設計（例）
- GET   /api/gachas/:id         ... ガチャ詳細取得
- GET   /api/gachas/:id/items   ... 商品リスト取得
- POST  /api/gachas/:id/draw    ... ガチャ実行（1回/10回）

## 6. バリデーション・UX
- 商品画像はサムネイル表示
- 残り数が0の商品はグレーアウト表示
- 「10連引く」は在庫が10以上ある場合のみ有効
- 引くボタンはローディング・多重押下防止

## 7. 権限制御
- 全ユーザーが閲覧可能
- 「引く」ボタンは認証必須

## 8. 備考
- レスポンシブ対応（スマホ・PC）
- 商品リストはグリッドまたはテーブル形式

---
